from configparser import ConfigParser, Error
import os

runPath = os.path.dirname(os.path.realpath(__file__))


class ConfigLoader:

    def __init__(self) -> None:
        super().__init__()
        self.configParser = ConfigParser()

    def read(self, configurationPath: str):
        self.clear()
        self.configParser.read(configurationPath)

    def clear(self):
        self.configParser.clear()

    def get(self, section, item, default):
        try:
            if type(default) == bool:
                return self.configParser.getboolean(section, item)
            elif type(default) == int:
                return self.configParser.getint(section, item)
            elif type(default) == float:
                return self.configParser.getfloat(section, item)
            else:
                return self.configParser.get(section, item)
        except Error:
            return default
