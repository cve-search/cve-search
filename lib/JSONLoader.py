from typing import Callable

import ijson


class JSONLoader:
    @staticmethod
    def load(path, prefix, itemCallBack: Callable[[dict or str], dict or None]):
        with open(path, "rb") as f:
            # https://pypi.org/project/ijson/#prefix
            items = ijson.items(f, prefix)

            for item in items:
                itemCallBack(item)
